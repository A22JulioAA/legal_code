{% extends "core/base.html" %} {% load static %} {% block title %} 
Homepage {% endblock %} {% block css %}
<link rel="stylesheet" href="{% static 'css/homepage.css' %}" />
{% endblock %} {% block script %}
<script src="{% static 'js/script.js' %}"></script>
{% endblock %} {% block content %}

<!-- Inicio de la página, lo que se ve tan pronto se accede al homepage -->
<div
  id="inicio"
  class="container-fluid d-flex justify-content-center align-items-center text-center p-0"
>
  <!-- La función scrollToSection está definida en el script y sirve para desplazar
    la vista hasta la sección de especialidades, que es donde empiezan los filtros y ofertas -->
  <a
    href=""
    style="width: 50%"
    onclick="scrollToSection(event, 'especialidades')"
    class="border border-light border-2 text-light p-5 enlace_und"
    >EMPEZAR A EXPLORAR</a
  >
</div>

<br />

<!-- En esta sección mostraremos los mensajes flash que vayan ocurriendo en diferentes puntos de la web -->

{% if messages %}
  {% for message in messages %}
    <section class="container-fluid text-center alert alert-{{ message.tags }}">
      {{ message }}
    </section>
  {% endfor %}
{% endif %}

<!-- Sección de anuncios de profesionales ordenados de forma aleatoria en un principio -->

<!-- Sección para mostrar las diferentes especialidades del derecho(sirve de filtro) -->
<section
  class="container especialidades"
  id="especialidades"
>
  <div class="row">
    <div class="col-3 p-3 bg-penal"><a class="text-decoration-none text-light" href="/especialidad/penal"><div><span class="texto-especialidad">Penal</span></div></a></div>
    <div class="col-3 p-3 bg-eclesiastico"><a class="text-decoration-none text-light" href="/especialidad/eclesiastico"><div><span class="texto-especialidad">Eclesiástico</span></div></a></div>
    <div class="col-3 p-3 bg-administrativo"><a class="text-decoration-none text-light" href="/especialidad/administrativo"><div><span class="texto-especialidad">Administrativo</span></div></a></div>
    <div class="col-3 p-3 bg-financiero"><a class="text-decoration-none text-light" href="/especialidad/financiero"><div><span class="texto-especialidad">Financiero</span></div></a></div>
  </div>
  <div class="row">
    <div class="col-3 p-3 bg-mercantil"><a class="text-decoration-none text-light" href="/especialidad/mercantil"><div><span class="texto-especialidad">Mercantil</span></div></a></div>
    <div class="col-3 p-3 bg-civil"><a class="text-decoration-none text-light" href="/especialidad/civil"><div><span class="texto-especialidad">Civil</span></div></a></div>
    <div class="col-3 p-3 bg-fiscal"><a class="text-decoration-none text-light" href="/especialidad/fiscal"><div><span class="texto-especialidad">Fiscal</span></div></a></div>
    <div class="col-3 p-3 bg-laboral"><a class="text-decoration-none text-light" href="/especialidad/laboral"><div><span class="texto-especialidad">Laboral</span></div></a></div>
  </div>
  <div class="row">
    <div class="col-3 p-3 bg-internacional"><a class="text-decoration-none text-light" href="/especialidad/internacional"><div><span class="texto-especialidad">Internacional</span></div></a></div>
    <div class="col-3 p-3 bg-comunitario"><a class="text-decoration-none text-light" href="/especialidad/comunitario"><div><span class="texto-especialidad">Comunitario</span></div></a></div>
    <div class="col-3 p-3 bg-comercial"><a class="text-decoration-none text-light" href="/especialidad/comercial"><div><span class="texto-especialidad">Comercial</span></div></a></div>
    <div class="col-3 p-3 bg-digital"><a class="text-decoration-none text-light" href="/especialidad/digital"><div><span class="texto-especialidad">Digital</span></div></a></div>
  </div>
</section>

{% if mensaje_error %}
  <section class="container mt-3 border-top"><h2>{{mensaje_error}}</h2></section>
{% else %}
<!-- Lista de los profesionales(en un principio aleatorios, sin filtros) -->
<section class="container mt-3 lista-profesionales border-top">
  {% for profesional in lista_profesionales %}

  <div class="card bg-dark text-light mt-4 mx-auto" style="width: 100%">
    <div class="card-body row">
      <div class="col-8">
        <h2 class="card-title">
          {{ profesional.nombre | capfirst }} {{ profesional.apellidos | capfirst }} | {{ profesional.campo | capfirst }}
        </h2>
        <hr />
        <span class="border p-1 me-1">Especialidades: </span>
        {% for especialidad in profesional.especialidad.all %} |
        <span class="card-subtitle mb-2 text-body-secondary"
          >{{ especialidad }}</span
        >
        {% endfor %}
        <hr />
        <i class="fa-regular fa-map"> </i> {{ profesional.direccion }}
        <br /><br />
        <p class="card-text">{{ profesional.descripcion }}</p>
        <a href="#" class="btn btn-primary">Pedir Cita</a>
        <a href="#" class="btn btn-primary">Contacta</a>
        <a href="#" class="btn btn-primary">Acerca de </a>
      </div>
      <div class="col-4">
        <img
          src="{% static 'img/imagen-abogado.jpg' %}"
          class="card-img-top image-fluid"
          alt="Imagen de profesional"
        />
        <span class="small">Teléfono: {{ profesional.telefono }}</span><br />
        <span class="small">Email: {{ profesional.email }}</span>
        <!-- TODO: Calcular la media de valoraciones y mostrarla en la card de cada profesional. -->
        <span class="small">Valoracion:</span>
      </div>
    </div>
  </div>

  {% endfor %}
</section>
{% endif %}



{% endblock %}
